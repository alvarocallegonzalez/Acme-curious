create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv>=100 AND cvv<=999), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
create sequence hibernate_sequence start 1 increment 1;
create table administrator (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table application (id int4 not null, version int4 not null, comments varchar(255), brand_name varchar(255), cvv int4 not null check (cvv<=999 AND cvv>=100), expiration_month varchar(255), expiration_year varchar(255), holder_name varchar(255), number varchar(255), moment timestamp, status boolean not null, applicant_id int4 not null, trip_id int4 not null, primary key (id));
create table category (id int4 not null, version int4 not null, name varchar(255), parent_id int4 not null, primary key (id));
create table contact_emergency (id int4 not null, version int4 not null, email varchar(255), name varchar(255), phone_number varchar(255), explorer_id int4 not null, primary key (id));
create table customisation (id int4 not null, version int4 not null, banner varchar(255), country_code varchar(255), english_welcome_message varchar(255), spanish_welcome_message varchar(255), vat_tax float8 not null, primary key (id));
create table explorer (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table folder (id int4 not null, version int4 not null, is_system_folder boolean not null, title varchar(255), parent_id int4 not null, primary key (id));
create table folder_messages (folder_id int4 not null, messages_id int4 not null);
create table legal_text (id int4 not null, version int4 not null, body varchar(255), draft_mode boolean not null, laws varchar(255), registered_moment timestamp not null, title varchar(255), primary key (id));
create table manager (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table message (id int4 not null, version int4 not null, body varchar(255), moment timestamp not null, priority varchar(255), subject varchar(255), sender_id int4 not null, primary key (id));
create table message_recipients (message_id int4 not null, recipients_id int4 not null);
create table ranger (id int4 not null, version int4 not null, address varchar(255), email varchar(255), name varchar(255), phone_number varchar(255), surname varchar(255), user_account_id int4 not null, primary key (id));
create table social_identity (id int4 not null, version int4 not null, link_profile varchar(255), nickname varchar(255), photo varchar(255), social_network varchar(255), actor_id int4 not null, primary key (id));
create table spam_word (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table stage (id int4 not null, version int4 not null, description varchar(255), number int4 not null check (number>=0), price float8 not null, title varchar(255), primary key (id));
create table tag (id int4 not null, version int4 not null, title varchar(255), primary key (id));
create table trip (id int4 not null, version int4 not null, currency varchar(255), description varchar(255), end_date timestamp, price varchar(255), publication_date timestamp, reason_cancellation varchar(255), requirements varchar(255), start_date timestamp, status boolean not null, ticker varchar(255), title varchar(255), category_id int4 not null, manager_id int4 not null, ranger_id int4 not null, primary key (id));
create table trip_stages (trip_id int4 not null, stages_id int4 not null);
create table trip_tags (trip_id int4 not null, tags_id int4 not null);
create table user_account (id int4 not null, version int4 not null, is_banned boolean not null, password varchar(60), username varchar(60), primary key (id));
create table user_account_authorities (user_account_id int4 not null, authority varchar(255));
alter table if exists administrator add constraint UK_jj3mmcc0vjobqibj67dvuwihk unique (email);
alter table if exists application add constraint UK_mxpaajfouugcwoctddt8nupxs unique (number);
alter table if exists explorer add constraint UK_dy1i2cartg8tka3mvpjga15he unique (email);
alter table if exists manager add constraint UK_ch4c0h9mgdd2c5lategqkpsyi unique (email);
alter table if exists ranger add constraint UK_bjuvoe3ddx5vm18tp4xic790y unique (email);
alter table if exists spam_word add constraint UK_lp0ee08atlifouaj7ul9xu5h0 unique (title);
alter table if exists tag add constraint UK_k5g3urrxw2ym0ls8vo6xfgs65 unique (title);
alter table if exists trip add constraint UK_erae71gbuddv82ukf2uldyhlw unique (ticker);
alter table if exists user_account add constraint UK_castjbvpeeus0r8lbpehiu0e4 unique (username);
alter table if exists administrator add constraint FK_2a5vcjo3stlfcwadosjfq49l1 foreign key (user_account_id) references user_account;
alter table if exists application add constraint FKcrrquoymc9x3vop5c43fd9id0 foreign key (applicant_id) references explorer;
alter table if exists application add constraint FKnvcaj5emfbn6bwvo7fc373tws foreign key (trip_id) references trip;
alter table if exists category add constraint FK2y94svpmqttx80mshyny85wqr foreign key (parent_id) references category;
alter table if exists contact_emergency add constraint FKcef8hx7opmb2dfmumti9yn2pj foreign key (explorer_id) references explorer;
alter table if exists explorer add constraint FK_4gvfgb98m0tbnqny71l2wtw7a foreign key (user_account_id) references user_account;
alter table if exists folder add constraint FKn0cjh1seljcp0mc4tj1ufh99m foreign key (parent_id) references folder;
alter table if exists folder_messages add constraint FKs1g3wtgejbaigp9ch9qj33vjh foreign key (messages_id) references message;
alter table if exists folder_messages add constraint FK7cgbhe11rnnty11arjixtc05r foreign key (folder_id) references folder;
alter table if exists manager add constraint FK_be4wqnsn90vqyqi93c2007epo foreign key (user_account_id) references user_account;
alter table if exists message_recipients add constraint FKjs7u02sas9si4hxnkmv9qq5yi foreign key (message_id) references message;
alter table if exists ranger add constraint FK_m5rax0x9qfy2kx1k8kyf6m99k foreign key (user_account_id) references user_account;
alter table if exists trip add constraint FKcb5nxtuyobn1auba9gpj7x0mx foreign key (category_id) references category;
alter table if exists trip add constraint FKgmdxte2lgnog9xam70jquom2e foreign key (manager_id) references manager;
alter table if exists trip add constraint FKgjqll4ojnakrauq370eb7yuct foreign key (ranger_id) references ranger;
alter table if exists trip_stages add constraint FK8rrpd6y2n6cg2p2gx8kab66d7 foreign key (stages_id) references stage;
alter table if exists trip_stages add constraint FKj8j6gkmfawwyu2cf3sh3tvy18 foreign key (trip_id) references trip;
alter table if exists trip_tags add constraint FKo86a9997wxammoaebpji5mpmj foreign key (tags_id) references tag;
alter table if exists trip_tags add constraint FKg4rkd6fuyl7einpx1l5my4vc1 foreign key (trip_id) references trip;
alter table if exists user_account_authorities add constraint FKqg5yuqktw7kjmodb7k1rg3f2o foreign key (user_account_id) references user_account;
